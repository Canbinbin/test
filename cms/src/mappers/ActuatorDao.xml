<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cms.web.modules.dao.ActuatorDao">

	<!-- 通用查询结果列-->
	<sql id="Base_Column_List">
		 id, user_id, act_name, act_type, act_mac, act_order, act_open, act_time,org_id
	</sql>
	
	
	<resultMap type="Actuator" id="ActuatorResult">
		<id column="id" property="id"/>
		<result column="user_id" property="userId"/>
		<result column="act_name" property="actName"/>
		<result column="act_type" property="actType"/>
		<result column="act_order" property="actOrder"/>
		<result column="act_mac"  property="actMac"/>
		<result column="act_open" property="actOpen"/>
		<result column="act_time" property="actTime"/>
		<result column="org_id" property="orgId"/>
	</resultMap>

	<select id="findAll" resultMap="ActuatorResult">
		select * from actuator where 1 = 1 order by act_time		
	</select>
	
	<select id="find" parameterType="Long" resultMap="ActuatorResult">
		select * from actuator where 1 =1 and id=#{value}
	</select>
	
	<select id="findByUserId" parameterType="Long" resultMap="ActuatorResult">
		select * from actuator where 1 =1 and user_id=#{value}
	</select>
	
	<!-- 分页查询 -->
    <select id="findPage" parameterType="Long" resultMap="ActuatorResult">
        SELECT * FROM actuator where user_id=#{value}
    </select>
	<!-- 新增 -->
	<insert id="insert" parameterType="Actuator" useGeneratedKeys="true" keyColumn="id" keyProperty="id">
		INSERT INTO `actuator` ( `id`, `user_id`,  `act_name`,`act_type`, `act_mac`, `act_order`, `act_open`, `act_time`, `org_id`)  
		VALUES (#{id}, #{userId}, #{actName},  #{actType}, #{actMac},  #{actOrder}, #{actOpen}, #{actTime},#{orgId}) 
	</insert>
	
	<!-- 修改 -->
	<update id="update" parameterType="Actuator">
		UPDATE 
	  	`actuator` 
	  	<set>
	  		<trim prefix="" suffixOverrides=",">
			  	<if test="actName != null">
		  			`act_name` = #{actName},
		  		</if>
		  		<if test="actType != null">
		  			 `act_type` = #{actType},
		  		</if>
			  	<if test="actMac != null">
			  		`act_mac` = #{actMac},
			  	</if>
			  	<if test="actOrder != null">
				  `act_order` = #{actOrder},
			  	</if>
			 	<if test="actOpen != null">
			 		 `act_open` = #{actOpen},
			 	</if>
			  	<if test="actTime != null">
			  		 `act_time` = #{actTime},	
			  	</if>
	  		</trim>
	  	</set>
		WHERE `id` = #{id} 
	</update>
	
	<!-- 删除 -->
	<delete id="delete" parameterType="Long">
		 delete from actuator where id = ${value}
	</delete>

</mapper>